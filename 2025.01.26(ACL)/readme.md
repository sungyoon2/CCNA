# ACL
---
ACL(Access Control list)
---
> ACL이란<br>
```
- Router 방화벽
- 접근제어 목록 -> 패킷필터링이 목적
- 다른 네트워크 프로토콜의 조건으로 많이 사용
<Access list만드는 form>
access-list [번호] [정책] [조건]
번호 : 목록간을 구분하기 위해
정책 : deny와 permit
조건 : 지정하는 것
```
> ACL의 종류<br>
```
1. 숫자형 : list이름이 번호로 지정됨, List중 1줄만 삭제해도 전체리스트가 삭제됨
  1) Starnard ACL : access-list [1 - 99] [permit/deny] [출발지 ip]
  2) Exetended ACL : access-list [100 - 199] [permit/deny] [프로토콜] [출발지 ip] [출발지 port(생략가능)] [목적지 ip] [대소관계연산자] [목적지 port]
          ** 출발지 port는 모르는 경우가 많기 떄문에 생략하는 경우가 많음
          ** 대소관계연산자는 주로 eq '='을 주로 씀
2. 문자형 : list이름이 문자열로 지정, List에서 한 줄씩 삭제 가능
```
> ACL의 사용<br>
- 목적지로 나가거나 들어오는 쪽 router를 사용하여 설정하는 것이 좋음
```
1. 단일 호스트 거부
    - access-list를 make
    - int f?/?  -> 해당 케이블로 이동
    - ip access-group [access-list no.] [out/in]
      => 설정완료시 다른것은 암묵적으로 거부됨
2. 암묵적 거부 해제
    - access-list에서 정책 -> permit
    -                 조건 -> any 를 추가
3. Group으로 거부(네트워크 ip별거부)
    - 와일드 카드 마스크 사용
    - access-list [번호] deny [NW주소] [와일드카드 마스크]
4. 출발지 IP의 마지막 숫자별 IP거부/허용 방법
    - 마지막 비트를 2진수로 열어서 규칙을 찾은 후 와일드카드 마스크를 적용하여 구현
    - access-list [번호] [정책] [해당하는 IP주소 아무꺼나] [와일드 카드 마스크]
5. Access-list 우선순위 확인
    - list의 위에서부터 순차적으로 적용
    - 숫자형은 한번 list를 작성하면 중간의 조건을 삭제못하므로 주의 필요
    - 문자형은 한줄씩 삭제가능
      *****문자형의 사용방법*****
        (Access list 생성)
        - 관리자 모드에서 ip access-list standard/extended [이름]
        - [정책] [출발지IP] / [permit/deny] [프로토콜] [출발지 ip] [출발지 port(생략가능)] [목적지 ip] [대소관계연산자] [목적지 port]
        (Access list의 중간 삭제)
        - ip access-list standard/extended [이름]
        - no를 앞에 붙여서 해당 정책을 삭제
```
> 서브넷마스크와 와일드카드 마스크의 차이<br>
- 서브넷 마스크
```
- 왼쪽부터 연속적 구현(1을)
- 1 : prefixed(네트워크자리)
- 0 : unprefixed(호스트자리)
```
- 와일드카드 마스크
```
- 연속적 구현이 필요X
- 1 : 해당 ip주소의 값이 공통되지 x으로 체크가 필요없음을 의미 -> 무슨 숫자가 오든지 상관 x
- 0 : 고정된 값이 있기에 check를 해야함을 의미 -> 네트워크영역 + 조건에 따라 check가 필요한 영역
(ex)
Network ip : 192.168.10.0/24
1) 짝수 ip만 구분
    - ip 주소           -> 192.168.10.00000000 (마지막 0의 유무에 따라 짝수나 홀수로 결정 -> 마지막 0은 check를 해야됨)
    - 와일드 카드 마스크 ->  0 . 0 . 0.11111110 => 0.0.0.254
2) 마지막이 1-15인 범위의 ip만 구분
    - ip 주소           -> 192.168.10.00000000 (마지막 0000은 무슨숫자가 오든지 상관없으며, (앞에서부터)1-4번째 자리에 아무자리에 1이 오면 15를 넘어감 -> 1-4번째자리는 check를 해야됨)
    - 와일드 카드 마스크 ->  0 . 0 . 0.00001111 => 0.0.0.15
```
---
* Socket -> 다른 컴퓨터와 연결하기위해 server ip와 server port가 지정
































